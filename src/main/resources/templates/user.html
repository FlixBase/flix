<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Flix - User Dashboard</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body>
    <!-- main dashboard container wrapper full remainder height full width-->
    <div class="dashboard_container">
      <!-- main dashboard navbar container wrapper -->
      <div class="col col-sm-5 col-md-4 col-lg-3 dashboard_nav_full_wrapper">
        <!-- dash navbar container-->
        <div class="container dashboard_nav_container">
          <div
            th:replace="~{fragments/general_dashboard :: dashboard_nav(active='user')}"
            style="background: yellow"
          >
            <p>Dashboard Side Nav for User</p>
          </div>
        </div>
      </div>
      <div
      class="col col-sm-7 col-md-8 col-lg-9 dashboare_main_container_wrapper"
    >
        <div class="container-fluid">
          
          <div class="row mb-4 mt-2">
            <div class="col-lg-3 col-sm-4 mb-3 d-flex align-items-stretch">
              <div class="position-relative card mb-4  py-3 px-4  w-100 rounded-3 shadow-sm" style="background-color:floralwhite" >
                  
                <div class="position-absolute d-flex justify-content-center align-items-center dashboard_main_user_stat_icon_wrapper" style="background-color:cadetblue;">
                    <div class="svg_container">
                      <svg viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" stroke="#ffffff" width="36px" height="36px" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier">    <g id="🔍-Product-Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="ic_fluent_movies_and_tv_24_filled" fill-rule="nonzero" fill="#ffffff"> <path d="M19.7286477,3.87458256 L19.7796475,4.03423199 L20.3309222,5.95675538 C20.4355805,6.32174238 20.2508505,6.70115383 19.9126449,6.84979651 L19.8167039,6.88442967 L9.08979429,9.9595254 L20.2488588,9.96046231 C20.6285546,9.96046231 20.9423498,10.2426162 20.9920122,10.6086918 L20.9988588,10.7104623 L20.9988588,19.2084746 C20.9988588,20.6710064 19.8571542,21.8668789 18.4163811,21.9534558 L18.2488588,21.9584746 L5.75,21.9584746 C4.28746816,21.9584746 3.09159572,20.81677 3.00501879,19.3759969 L3,19.2084746 L2.99979429,10.8165254 L2.47803395,8.99538983 C2.07490554,7.589514 2.84275532,6.12527119 4.20385145,5.64491723 L4.36350088,5.59391744 L16.3781751,2.14876505 C17.7840509,1.74563665 19.2482937,2.51348642 19.7286477,3.87458256 Z M6.27268011,6.60691826 L4.77695691,7.03580999 C4.15481999,7.21420488 3.7786565,7.83376496 3.89085867,8.45731315 L3.91988247,8.58194642 L4.26421826,9.78278802 L4.55930489,9.69792899 L6.27268011,6.60691826 Z M11.029003,5.24306462 L8.31151617,6.02229143 L6.59814094,9.11330216 L9.31562776,8.33407535 L11.029003,5.24306462 Z M15.7862871,3.87893535 L13.0688003,4.65816215 L11.3554251,7.74917288 L14.0719506,6.97022172 L15.7862871,3.87893535 Z M17.6334765,3.64537692 L16.1127092,6.38504361 L18.6812212,5.64877896 L18.3377549,4.44768802 C18.2305941,4.07397383 17.96425,3.78902913 17.6334765,3.64537692 Z" id="🎨-Color"> </path> </g> </g> </g></svg>
                      </div>
                </div>
                  <div th:text="${#lists.size(user.views)}" class="dashboard_main_user_stat_number"/>
                  <p th:if="${#lists.size(user.views) > 1 }" class="dashboard_main_user_stat_text" >total movies viewed </p>
                  <p th:unless="${#lists.size(user.views) > 1 }" class="dashboard_main_user_stat_text">total movie viewed</p>
                  
              </div>
            </div>
            <div class="col-lg-3 col-sm-4 mb-3 d-flex align-items-stretch">
                <div class="position-relative card mb-4  py-3 px-4  w-100 rounded-3 shadow-sm" style="background-color:floralwhite">
                  <div class="position-absolute d-flex justify-content-center align-items-center dashboard_main_user_stat_icon_wrapper" style="background-color:lightcoral;">
                    <div class="svg_container">
                      <svg fill="#ffffff" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" height="30px" width="30px"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <g> <path d="M467.204,67.921C412.786,20.394,329.86,25.984,282.31,80.365l-26.311,29.66l-26.311-29.66 C182.138,25.984,99.212,20.396,44.795,67.921c-54.437,47.543-60.045,130.51-12.503,184.946l185.641,206.535 c9.692,10.783,23.568,16.968,38.067,16.968c14.499,0,28.375-6.185,38.067-16.968L479.546,253.05l0.161-0.182 C527.251,198.431,521.641,115.464,467.204,67.921z"></path> </g> </g> </g></svg>
                    </div>
                  </div>
                    <div th:text="${userStat['favorites']}"   class="dashboard_main_user_stat_number"/> 
                    <p th:if="${userStat['favorites'] > 1}" class="dashboard_main_user_stat_text">total movies favorited</p>
                    <p th:unless="${userStat['favorites'] > 1}" class="dashboard_main_user_stat_text">total movie favorited</p>
                    
                </div>
                  
            </div>

            <div class="col-lg-3 col-sm-4 mb-3 d-flex align-items-stretch">
              <div class="position-relative card mb-4  py-3 px-4  w-100 rounded-3 shadow-sm" style="background-color:floralwhite">
                  <div class="position-absolute d-flex justify-content-center align-items-center dashboard_main_user_stat_icon_wrapper" style="background-color:darkgoldenrod;">
                    <div class="svg_container">
                      <svg width="30px" height="30px" viewBox="0 -0.5 21 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-99.000000, -320.000000)" fill="#ffffff"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M60.556381,172.206 C60.1080307,172.639 59.9043306,173.263 60.0093306,173.875 L60.6865811,177.791 C60.8976313,179.01 59.9211306,180 58.8133798,180 C58.5214796,180 58.2201294,179.931 57.9282291,179.779 L54.3844766,177.93 C54.1072764,177.786 53.8038262,177.714 53.499326,177.714 C53.1958758,177.714 52.8924256,177.786 52.6152254,177.93 L49.0714729,179.779 C48.7795727,179.931 48.4782224,180 48.1863222,180 C47.0785715,180 46.1020708,179.01 46.3131209,177.791 L46.9903714,173.875 C47.0953715,173.263 46.8916713,172.639 46.443321,172.206 L43.575769,169.433 C42.4480682,168.342 43.0707186,166.441 44.6289197,166.216 L48.5916225,165.645 C49.211123,165.556 49.7466233,165.17 50.0227735,164.613 L51.7951748,161.051 C52.143775,160.35 52.8220755,160 53.499326,160 C54.1776265,160 54.855927,160.35 55.2045272,161.051 L56.9769285,164.613 C57.2530787,165.17 57.7885791,165.556 58.4080795,165.645 L62.3707823,166.216 C63.9289834,166.441 64.5516338,168.342 63.423933,169.433 L60.556381,172.206 Z" id="star_favorite-[#ffffff]"> </path> </g> </g> </g> </g></svg>
                    </div>
                  </div>
                  <div th:text="${userStat['ratings']}"   class="dashboard_main_user_stat_number"/>
                  <p th:if="${userStat['ratings'] > 1}" class="dashboard_main_user_stat_text">total movies rated</p>
                  <p th:unless="${userStat['ratings'] > 1}" class="dashboard_main_user_stat_text">total movie rated</p> 
                  
                </div>
            </div>
            
            <div class="col-lg-3 col-sm-4 mb-3 d-flex align-items-stretch">
              <div class="position-relative card mb-4  py-3 px-4  w-100 rounded-3 shadow-sm" style="background-color:floralwhite">
                <div class="position-absolute d-flex justify-content-center align-items-center dashboard_main_user_stat_icon_wrapper" style="background-color:mediumpurple;">
                  <div class="svg_container">
                    <svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="#ffffff" width="36px" height="36px"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path fill="#ffffff" fill-rule="evenodd" d="M8,0 C8.55228,0 9,0.447715 9,1 L11,1 L11,2 L13,2 C13.5523,2 14,2.44772 14,3 L14,15 C14,15.5523 13.5523,16 13,16 L3,16 C2.44772,16 2,15.5523 2,15 L2,3 C2,2.44772 2.44772,2 3,2 L5,2 L5,1 L7,1 C7,0.447715 7.44772,0 8,0 Z M5,4 L4,4 L4,14 L12,14 L12,4 L11,4 L11,5 L5,5 L5,4 Z M6,10 L10,10 C10.5523,10 11,10.4477 11,11 C11,11.51285 10.613973,11.9355092 10.1166239,11.9932725 L10,12 L6,12 C5.44772,12 5,11.5523 5,11 C5,10.48715 5.38604429,10.0644908 5.88337975,10.0067275 L6,10 Z M10,7 C10.5523,7 11,7.44772 11,8 C11,8.55228 10.5523,9 10,9 L6,9 C5.44772,9 5,8.55228 5,8 C5,7.44772 5.44772,7 6,7 L10,7 Z M8,2 C7.44772,2 7,2.44772 7,3 C7,3.55228 7.44772,4 8,4 C8.55228,4 9,3.55228 9,3 C9,2.44772 8.55228,2 8,2 Z"></path> </g></svg>
                  </div>
                </div>
                <div th:text="${userStat['reviews']}"   class="dashboard_main_user_stat_number"/>
                  <p th:if="${userStat['reviews'] > 1}" class="dashboard_main_user_stat_text">total movies reviewed</p>
                  <p th:unless="${userStat['reviews'] > 1}" class="dashboard_main_user_stat_text">total movie reviewed</p>
                 
                </div>
            </div>

          </div>

          <div th:each="group : ${genresMovies}" style="color: white;">
            <h2 th:text="${group.key}" />
              <!-- <p th:each="movie : ${group.value}" th:text="${movie.title}"/> -->

              <div class="d-flex flex-wrap mb-5" >
                <div th:each="movie : ${group.value}" class="p-2 movies_movie_poster_wrapper">
                    <a th:href="@{/movies/getMovieById(movieId=${movie.id})}" class="d-flex h-100">
                      <img th:src="@{${'https://image.tmdb.org/t/p/original' + movie.posterUrl}}" class="movies_movie_poster"/>
                    </a>
                </div>
              </div>
              <hr />

          </div>
          
         
        </div>
      </div>
    </div>
  </body>
</html>
